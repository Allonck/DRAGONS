# This recipe performs the standardization and corrections needed to convert 
# the raw input flat images into a single stacked and normalized flat image. 
# This output processed flat is stored on disk using storeProcessedFlat and 
# has a name equal to the name of the first input flat image with "_flat.fits" 
# appended.

prepare
addDQ
writeOutputs(suffix="_dq", strip=True)
#nonlinearityCorrect
aduToElectrons
writeOutputs(suffix="_aduToEle", strip=True)
addVAR
writeOutputs(suffix="_var", strip=True)
#removeThermalEmissionFromFlat
stackFrames
writeOutputs(suffix="_stack", strip=True)
normalizeFlat
writeOutputs(suffix="_flat", strip=True)
storeProcessedFlat
