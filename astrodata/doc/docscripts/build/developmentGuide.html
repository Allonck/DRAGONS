

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.3. Development Guide &mdash; astrodata documentation v1.00 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.00',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="astrodata documentation v1.00 documentation" href="index.html" />
    <link rel="up" title="1. Introduction" href="chapter_intro.html" />
    <link rel="next" title="2. AstroData Class Reference" href="chapter_AstroDataClass.html" />
    <link rel="prev" title="1.2. Concepts" href="gen.ADMANUAL_ADConcepts.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="chapter_AstroDataClass.html" title="2. AstroData Class Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gen.ADMANUAL_ADConcepts.html" title="1.2. Concepts"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">astrodata documentation v1.00 documentation</a> &raquo;</li>
          <li><a href="chapter_intro.html" accesskey="U">1. Introduction</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.3. Development Guide</a><ul>
<li><a class="reference internal" href="#configuration">1.3.1. Configuration</a><ul>
<li><a class="reference internal" href="#elements-which-have-to-be-developed">1.3.1.1. Elements Which Have To Be  Developed</a></li>
<li><a class="reference internal" href="#fallbacks-and-options">1.3.1.2. Fallbacks and Options</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gen.ADMANUAL_ADConcepts.html"
                        title="previous chapter">1.2. Concepts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="chapter_AstroDataClass.html"
                        title="next chapter">2. AstroData Class Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/developmentGuide.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="development-guide">
<h1>1.3. Development Guide<a class="headerlink" href="#development-guide" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="configuration">
<h2>1.3.1. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The astrodata package is dependant on MEF files,   but instrument-specific
behavior is not present in the astrodata package itself and is instead
loaded from a configurationn package. In the case of Gemini instruments the
configuration package is called astrodata_Gemini. This package
must appear in the filesystem somewhere
on the PYTHONPATH or on an astrodata specific environment path, RECIPEPATH.
When imported the astrodata package will detect any
directory in these paths which begin with &#8220;<a href="#id1"><span class="problematic" id="id2">astrodata_</span></a>&#8220;,
such as astrodata_Gemini and load it.</p>
<p>To develop with AstroData, you will have to provide it with a configuration
that informs it about your data, e.g. &#8220;astrodata_CUSTOM&#8221;.  Your task will
be to develop
&#8220;astrodata_CUSTOM&#8221; which understand your own data,</p>
<blockquote>
even if it is to eventually be</blockquote>
<p>integrated into astrodata_Gemini. Initially you will develop classifications
for your data, and functions which will provide standard information, allowing
you to use AstroData, e.g. in processing scripts.  Then you will put your
processing scripts in the form of &#8220;primitives&#8221; and collect these in &#8220;recipes&#8221;
so they can be used for automated data reduction.</p>
<div class="section" id="elements-which-have-to-be-developed">
<h3>1.3.1.1. Elements Which Have To Be  Developed<a class="headerlink" href="#elements-which-have-to-be-developed" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>AstroData Types - these types are defined as python classes where special
members have to be defined, but no methods written.  The objects are defined
in classes to allow overwriting methods in the case of complicated classes,
but if your types are detectable entirely by information in the MEF PHU, as
currently required, this should not be necessary. Types are defined in
astrodata_Gemini/ADCONFIG_Gemini/classifications.</li>
<li>AstroData Descriptors - these functions calculate standard metadata values.
Since sometimes different datatypes need special algorithms to provide
information consistently (like the image gain), descriptor functions are
organized into bundles, &#8220;descriptor calculators&#8221;, and these bundles are
associated with given AstroData types, so the correct functions are used
with the correct types.  Sharing descriptor functions is done using
python class inheritance (a GMOS calculator descends from a GEMINI calculator
so that methods of evalutation general to GEMINI are shared between
instruments.  Similarly if a particular mode, e.g. GMOS_IMAGE, required a
special function for a given descriptor, it could inherit all but the
specialized descriptor function.</li>
<li>Primitives - In order to integrate with the Gemini automated reduction
environment we need code that would be packaged as scripts, to be packaged
as python generator functions in an class objects (a &#8220;primitive set&#8221;) which
is designed to work on a particular AstroData Type. While any python code
is allowed in a primitive, some approaches will play better with the system,
and with existing primitives, than others. We will attempt to describe these.
In short writing something as a primitive means taking all inputs from
a system infrastructure object (the &#8220;reduction context&#8221;), and reporting back
any changes, also to the reduction context.  Python generators use &#8220;yield&#8221;
statements in place of &#8220;return&#8221; and so can be re-entered.  Yields in a
primitive give the infrastructure a chance to run, and are required in some
cases, such as allowing the infrastructure to satistfy a calibration request.
Strictly speaking, most primitives require just one, final yield, but more
frequent yields give more control to the infrastructure, allowing reduction
to be paused and resumed, and other forms of process control. Use of
generators also ensures that while your primitive is running, it is the only
thing affecting the reduction, as the infrastructure only modified the
reduction context during yeilds.</li>
</ol>
</div>
<div class="section" id="fallbacks-and-options">
<h3>1.3.1.2. Fallbacks and Options<a class="headerlink" href="#fallbacks-and-options" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="chapter_AstroDataClass.html" title="2. AstroData Class Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="gen.ADMANUAL_ADConcepts.html" title="1.2. Concepts"
             >previous</a> |</li>
        <li><a href="index.html">astrodata documentation v1.00 documentation</a> &raquo;</li>
          <li><a href="chapter_intro.html" >1. Introduction</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Craig Allen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0b2.
    </div>
  </body>
</html>