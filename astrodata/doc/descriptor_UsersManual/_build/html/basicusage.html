

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Basic Descriptor Usage &mdash; A User&#39;s Guide to Descriptors 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/todo-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="A User&#39;s Guide to Descriptors 1.0.0 documentation" href="index.html" />
    <link rel="next" title="3. Advanced Descriptor Usage" href="advancedusage.html" />
    <link rel="prev" title="1. What are Descriptors?" href="whataredescriptors.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="advancedusage.html" title="3. Advanced Descriptor Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="whataredescriptors.html" title="1. What are Descriptors?"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">A User&#39;s Guide to Descriptors 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="basic-descriptor-usage">
<span id="id1"></span><h1>2. Basic Descriptor Usage<a class="headerlink" href="#basic-descriptor-usage" title="Permalink to this headline">Â¶</a></h1>
<p>The command <tt class="docutils literal"><span class="pre">typewalk</span> <span class="pre">-l</span></tt> lists all the descriptors that are defined. As of
the date of this document there are 73 descriptors defined (<a class="reference internal" href="appendices/appendixA.html#appendix-typewalk"><em>Appendix A</em></a>).</p>
<p>The following commands show an example of how to use descriptors. They can be
entered at an interactive Python prompt (e.g., <tt class="docutils literal"><span class="pre">python</span></tt>, <tt class="docutils literal"><span class="pre">ipython</span></tt>,
<tt class="docutils literal"><span class="pre">pyraf</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astrodata</span> <span class="kn">import</span> <span class="n">AstroData</span>
<span class="go"># Load the fits file into AstroData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">AstroData</span><span class="p">(</span><span class="s">&quot;N20091027S0137.fits&quot;</span><span class="p">)</span>
<span class="go"># Count the number of pixel data extensions in the AstroData object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">count_exts</span><span class="p">()</span>
<span class="go">3</span>
<span class="go"># Count the number of science extensions in the AstroData object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">count_exts</span><span class="p">(</span><span class="n">extname</span><span class="o">=</span><span class="s">&quot;SCI&quot;</span><span class="p">)</span>
<span class="go">3</span>
<span class="go"># Get the airmass value using the airmass descriptor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airmass</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">airmass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">airmass</span>
<span class="go">1.327</span>
<span class="go"># Get the instrument name using the instrument descriptor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&quot;My instrument is </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">ad</span><span class="o">.</span><span class="n">instrument</span><span class="p">()</span>
<span class="go">My instrument is GMOS-N</span>
<span class="go"># Get the gain value for each pixel data extension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">ad</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">ext</span><span class="o">.</span><span class="n">gain</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">2.1</span>
<span class="go">2.337</span>
<span class="go">2.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">ad</span><span class="o">.</span><span class="n">gain</span><span class="p">()</span>
<span class="go">{(&#39;SCI&#39;, 2): 2.3370000000000002, (&#39;SCI&#39;, 1): 2.1000000000000001,</span>
<span class="go">(&#39;SCI&#39;, 3): 2.2999999999999998}</span>
</pre></div>
</div>
<p>In the examples above, the airmass and instrument apply to the dataset as a
whole i.e., the keywords themselves exist only in the Primary Header Unit
(PHU) and so only one value is returned. However, the gain applies specifically
to the pixel data extensions within the dataset and so for this AstroData
object, since there are three pixel data extensions, three values are returned
in the form of a Python dictionary, where the key of the dictionary is the
(&#8220;<tt class="docutils literal"><span class="pre">EXTNAME</span></tt>&#8221;, <tt class="docutils literal"><span class="pre">EXTVER</span></tt>) tuple.</p>
<p>For those descriptors that describe a concept applying specifically to the
pixel data extensions within a dataset i.e., those that access keywords in the
headers of the pixel data extensions, a value for every pixel data extension in
the AstroData object is returned by default:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">new_ad</span> <span class="o">=</span> <span class="n">AstroData</span><span class="p">(</span><span class="s">&quot;stgsS20100223S0042.fits&quot;</span><span class="p">)</span>
<span class="go"># Count the number of pixel data extensions in the AstroData object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_ad</span><span class="o">.</span><span class="n">count_exts</span><span class="p">()</span>
<span class="go">103</span>
<span class="go"># Count the number of science extensions in the AstroData object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_ad</span><span class="o">.</span><span class="n">count_exts</span><span class="p">(</span><span class="n">extname</span><span class="o">=</span><span class="s">&quot;SCI&quot;</span><span class="p">)</span>
<span class="go">34</span>
<span class="go"># Get the data section value for each pixel data extension in the form of a</span>
<span class="go"># dictionary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">new_ad</span><span class="o">.</span><span class="n">data_section</span><span class="p">()</span>
<span class="go">{(&#39;SCI&#39;, 29): [0, 3108, 0, 22], (&#39;DQ&#39;, 5): [0, 3108, 0, 21],</span>
<span class="go">(&#39;DQ&#39;, 9): [0, 3108, 0, 21], (&#39;SCI&#39;, 15): [0, 3108, 0, 22],</span>
<span class="go">(&#39;SCI&#39;, 24): [0, 3108, 0, 21], (&#39;VAR&#39;, 8): [0, 3108, 0, 21],</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Descriptors can also be used to return values relating to a subset of pixel
data extensions, i.e., those associated with a particular <tt class="docutils literal"><span class="pre">EXTNAME</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">new_ad</span><span class="o">.</span><span class="n">count_exts</span><span class="p">(</span><span class="n">extname</span><span class="o">=</span><span class="s">&quot;DQ&quot;</span><span class="p">)</span>
<span class="go">34</span>
<span class="go"># Get the data section value for the data quality extensions only</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">new_ad</span><span class="p">[</span><span class="s">&quot;DQ&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data_section</span><span class="p">()</span>
<span class="go">{(&#39;DQ&#39;, 11): [0, 3108, 0, 21], (&#39;DQ&#39;, 6): [0, 3108, 0, 22],</span>
<span class="go">(&#39;DQ&#39;, 29): [0, 3108, 0, 22], (&#39;DQ&#39;, 9): [0, 3108, 0, 21],</span>
<span class="go">(&#39;DQ&#39;, 4): [0, 3108, 0, 22], (&#39;DQ&#39;, 19): [0, 3108, 0, 21],</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Note that it is quicker to obtain the values of a descriptor in the form of a
dictionary than it is to obtain the values of a descriptor for each extension
separately.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="whataredescriptors.html"
                        title="previous chapter">1. What are Descriptors?</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="advancedusage.html"
                        title="next chapter">3. Advanced Descriptor Usage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/basicusage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="advancedusage.html" title="3. Advanced Descriptor Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="whataredescriptors.html" title="1. What are Descriptors?"
             >previous</a> |</li>
        <li><a href="index.html">A User&#39;s Guide to Descriptors 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Emma Hogan.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>