.TH swapper 1 "13-01-2017" "version 2.0" "swapper man page"
.SH NAME
swapper
.SH SYNOPSIS
.B swapper
[\fB\-h\fR]
[\fB\-a\fR, \fB\-\-auto\fR]
[\fB\-c\fR]
[\fB\-d\fR]
[\fB\-l\fR LOGNAME]
[\fB\-m\fR MODULE]
[\fB\-r\fR]
[\fB\-u\fR USERPATH]
[\fB\-v\fR]

.SH DESCRIPTION
.B swapper(1)
replaces string literals that occur within predefined gemini_python
packages. These packages are

    astrodata/ 
    gemini_instruments/ 
    geminidr/ 
    gempy/ 
    recipe_system/ 

Search paths are based upon an environment variable, \fB$NGEM\fR, OR on the path
passed with the \fB\-u\fR USERPATH option. \fB$NGEM\fR defines a path to a user's 
gemini_python installation as pulled from the GDPSG repository. E.g.,

    export NGEM=/user/path/to/gemini_python

If a user has a non-standard or partial gemini_python installation, or has
otherwise changed the above organisation, the \fB-u\fR option should be used to 
pass the location of this code base to \fBswapper\fR.

If \fB-u\fR is passed, search packages should be directly under this path.

Examples:

  -- a standard gemini_python repo checkout in ~ :

      $ export NGEM=~/gemini_python
      $ swapper -c -r "old string" "new string"

  -- astrodata, gempy, and other gemini_python packages are in directory ~/foobar/.
     Use \fB-u\fR:

      $ swapper -r -c -u ~/foobar "old string" "new string"

.B Tip:
While \fBswapper\fR requires two (2) positional arguments, requesting report 
only (\fB\-r\fR) ignores the second positional argument ("new string") since 
no swapping will occur. This implies that users may pass an arbitrary string 
as the second argument.

E.g.,

    $ swapper -r -c "old string" x

And \fBswapper\fR will report the matches on "old string".

.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
show the \fBswapper\fR help message and exit.
.TP
\fB\-a\fR, \fB\-\-auto\fR
Execute swaps without user confirmation. Default is False. User \fBmust\fR
request auto execute
.TP
\fB\-c\fR
Switch on color high lighting. Default is Off.
.TP
\fB\-d\fR
Self-document line changes w/ inline comments. Default is False.
.TP
\fB-l\fR LOGNAME
Set the logfile name to \fBLOGNAME\fR Default is 'swap.log'.
.TP
\fB\-m\fR MODULE
Execute swaps in \fBMODULE\fR only. Default is all.
.TP
\fB\-r\fR
Report potential swaps only. Default is \fB'False'\fR.
.TP
\fB\-u\fR USERPATH
Use \fBUSERPATH\fR to build search paths. Default is None. Without \fB\-u\fR, 
search under \fB$NGEM\fR.
.TP
\fB\-v\fR, \fB\-\-version\fR
Show program's version number and exit.

.SH ENVIRONMENT
No special environment is required.
.SH BUGS
None known.

.SH SEE ALSO 
.I reduce(1), typewalk(1)

.SH HISTORY
The \fBswapper\fR tool was originally written for version one (1) of 
gemini_python, astrodata, and the recipe_system.

.SH AUTHOR
Kenneth Anderson, Gemini Observatory, 2016(c). 
